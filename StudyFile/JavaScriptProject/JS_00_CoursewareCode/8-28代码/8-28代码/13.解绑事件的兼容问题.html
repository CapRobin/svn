<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>点击</button>
<button>解绑</button>

<script>
    var btn1 = document.getElementsByTagName("button")[0];
    var btn2 = document.getElementsByTagName("button")[1];
//    btn1.onclick=fn;

//    btn1.removeEventListener=undefined
//    btn1.detachEvent==null;

//    btn1.addEventListener("click", fn);
    btn1.attachEvent("onclick", fn);

    function fn() {
        alert("十年生死两茫茫，喜羊羊，灰太狼。");
    }
    EvenetListener={
        deleteEvent: function (ele,eventName,func) {

//                if(ele.removeEventListener){
//                    ele.removeEventListener(eventName,func);
//                }else if(ele.detachEvent){
//                    ele.detachEvent("on"+eventName,func);
//                }else{
//                    ele["on"+eventName]=null;
//                }

            if(ele["on"+eventName]){
                ele["on"+eventName]=null;
            }else if(ele.removeEventListener){
                ele.removeEventListener(eventName,func);
            }else{
                ele.detachEvent("on"+eventName,func);
            }
        }
        
    }
    
    
    


    btn2.onclick = function () {

        //  火狐 谷歌 IE9+  用addEvenetListener
//        console.log(btn1.addEventListener);//有值
//        console.log(btn1.attachEvent);//undefined
//        console.log(btn1["onclick"]);//null
        //   IE8-  attachEvent
//        console.log(btn1.addEventListener);//undifined
//        console.log(btn1.attachEvent);//有值
//        console.log(btn1["onclick"]);//null

//        console.log(btn1.removeEventListener);



        EvenetListener.deleteEvent(btn1,"click",fn);
        //如果是通过onclick=绑定事件  那么removeEventListener 结果不是undefined或者null
        //而是有值
//        console.log(btn1.removeEventListener);

    }


</script>
</body>
</html>