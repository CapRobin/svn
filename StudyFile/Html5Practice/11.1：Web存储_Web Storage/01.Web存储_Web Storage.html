<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web存储_Web Storage</title>
    <style type="text/css">
        #textEdit1, #textEdit2 {
            width: 300px;
            height: 50px;
        }

        #textShow1, #textShow2 {
            width: 300px;
            height: 200px;
        }

        div {
            width: 300px;
            height: 300px;
            margin: 30px;
            text-align: center;
        }

    </style>
    <script type="text/javascript">

        /*~~~~~~~~~~~~永久存储_LocalStorage方式~~~~~~~~~~~~*/
        //添加留言信箱功能
        function editText1() {
            //获取文本框对象
            var textEdit1 = document.getElementById("textEdit1");
            //获取LocalStorage对象
            var lStorage = window.localStorage;

            //判断是否输入留言内容
            if (textEdit1.value != "") {
                //判断是否有myText键
                if (lStorage.myText1) {
                    //获取时间对象
                    var times1 = new Date();
                    //为LocalStorage赋值
                    lStorage.myText1 += textEdit1.value + "\n发表时间：" + times1.toLocaleString() + "\n";
                } else {
                    var times1 = new Date();
                    lStorage.myText1 = textEdit1.value + "\n发表时间：" + times1.toLocaleString() + "\n";
                }
                alert("留言成功！");
                //留言成功后输入框内内容置空
                textEdit1.value = "";
                //显示留言
                readText1();
            } else {
                alert("请先编辑留言内容！");
            }
        }

        //显示留言数据
        function readText1() {
            //默认留言列表隐藏，此处点击显示
            document.getElementById("textShow1").style.display = "block";
            var showText1 = window.document.getElementById("textShow1");
            var llStorage = window.localStorage;
            if (llStorage.myText1) {
                showText1.value = llStorage.getItem("myText1");
            } else {
                showText1.value = "暂时没有留言信息！";
            }

        }

        //隐藏留言数据
        function hideText1() {
            document.getElementById("textShow1").style.display = "none";
        }

        //清除留言信箱
        function cleanText1() {
            window.localStorage.removeItem("myText1");
            alert("是否清空留言？");
            readText1();
        }

        /*~~~~~~~~~~~~临时存储_SessionStorage方式~~~~~~~~~~~~*/

        //添加留言信箱功能
        function editText2() {
            //获取文本框对象
            var textEdit2 = document.getElementById("textEdit2");
            //获取SessionStorage对象
            var lStorage = window.sessionStorage;

            //判断是否输入留言内容
            if (textEdit2.value != "") {
                //判断是否有myText键
                if (lStorage.myText2) {
                    //获取时间对象
                    var times2 = new Date();
                    //为SessionStorage赋值
                    lStorage.myText2 += textEdit2.value + "\n发表时间：" + times2.toLocaleString() + "\n";
                } else {
                    var times2 = new Date();
                    lStorage.myText2 = textEdit2.value + "\n发表时间：" + times2.toLocaleString() + "\n";
                }
                alert("留言成功！");
                //留言成功后输入框内内容置空
                textEdit2.value = "";
                //显示留言
                readText2();
            } else {
                alert("请先编辑留言内容！");
            }
        }

        //显示留言数据
        function readText2() {
            //默认留言列表隐藏，此处点击显示
            document.getElementById("textShow2").style.display = "block";
            var showText2 = window.document.getElementById("textShow2");
            var llStorage = window.sessionStorage;
            if (llStorage.myText2) {
                showText2.value = llStorage.getItem("myText2");
            } else {
                showText2.value = "暂时没有留言信息！";
            }

        }

        //隐藏留言数据
        function hideText2() {
            document.getElementById("textShow2").style.display = "none";
        }

        //清除留言信箱
        function cleanText2() {
            window.sessionStorage.removeItem("myText2");
            alert("是否清空留言？");
            readText2();
        }

    </script>
</head>
<body>
<h1 style="text-align: center">11.1：Web存储_Web Storage</h1><br>
<h3 style="text-align: center">简单的Web存储留言板</h3><br>

<!--cellspacing属性用来表示单元格之间的空隙大小-->
<table border="1" align="center" style="border: 1px solid #31caff;" cellspacing="0">
    <tr>
        <th style="text-align:center; height: 50px">
            <span style="font-size: 16px">永久存储_LocalStorage方式</span>
        </th>
        <th style="text-align:center;">
            <span style="font-size: 16px">临时存储_SessionStorage方式</span>
        </th>
    </tr>
    <tr>
        <td>
            <div>
                <textarea id="textEdit1"></textarea><br>
                <input type="button" class="button" onclick="editText1()" value="编辑留言">
                <input type="button" class="button" onclick="readText1()" value="查看留言">
                <input type="button" class="button" onclick="hideText1()" value="隐藏留言">
                <input type="button" class="button" onclick="cleanText1()" value="清除留言">
                <br>
                <hr>
                <textarea id="textShow1" readonly style="display: none"></textarea>


            </div>
        </td>
        <td>
            <div>
                <textarea id="textEdit2"></textarea><br>
                <input type="button" class="button" onclick="editText2()" value="编辑留言">
                <input type="button" class="button" onclick="readText2()" value="查看留言">
                <input type="button" class="button" onclick="hideText2()" value="隐藏留言">
                <input type="button" class="button" onclick="cleanText2()" value="清除留言">
                <br>
                <hr>
                <textarea id="textShow2" readonly style="display: none"></textarea>


            </div>
        </td>
    </tr>
</table>
</body>
</html>
